import{_ as P,a as x,b as s,ca as L,d as w,da as T,e as y,g as _,ga as I,i as M,ia as D,j as q,ja as V,ka as B,l as N,m as R,n as $}from"./chunk-ADCG4BPS.js";import{Cb as U,Db as F,Eb as C,Fa as c,Ga as u,Hb as h,Ka as i,Kb as b,La as r,M as G,Ma as d,Q as p,R as f,Ta as S,Ya as n,ab as v,d as A,pa as l,ub as z,za as g}from"./chunk-Q6SAPHIO.js";var Y=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=f({type:e,selectors:[["app-auth-layout"]],standalone:!0,features:[v],decls:3,vars:0,consts:[[1,"bg-matprimary","vh-100"],[1,"container"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1),d(2,"router-outlet"),r()())},dependencies:[h,U],encapsulation:2});let t=e;return t})();var Z=A($());var k=(()=>{let e=class e{constructor(){this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.passwordPattern=/^(?=.*[A-Z])(?=.*\d).{8,}$/}isValidField(m,o){return m.controls[o].errors&&m.controls[o].touched}areFieldsEqual(m,o){return a=>{let E=a.get(m)?.value,Q=a.get(o)?.value;return E!==Q?(a.get(o)?.setErrors({notEqual:!0}),{notEqual:!0}):(a.get(o)?.setErrors(null),null)}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ie(t,e){t&1&&(i(0,"mat-error"),n(1,"Este campo es requerido"),r())}function oe(t,e){t&1&&(i(0,"mat-error"),n(1,"Este campo es requerido"),r())}var H=(()=>{let e=class e{constructor(){this.fb=p(N),this.validatorsService=p(k),this.authService=p(b),this.router=p(F),this.loginForm=this.fb.group({email:["admin@gmail.com",[s.required,s.pattern(this.validatorsService.emailPattern)]],password:["Password1234",[s.required,s.minLength(6)]]})}isValidField(m){return this.validatorsService.isValidField(this.loginForm,m)}login(){if(this.loginForm.invalid)return;let{email:m,password:o}=this.loginForm.value;this.authService.login(m,o).subscribe({next:()=>{this.router.navigateByUrl("/dashboard")},error:a=>Z.default.fire("Error al iniciar sesion","Los datos no coinciden, intenta nuevamente","error")})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=f({type:e,selectors:[["app-login-page"]],standalone:!0,features:[v],decls:25,vars:4,consts:[[1,"d-block","w-50","mx-auto"],[1,"p-4",3,"formGroup","ngSubmit"],[1,"text-center","fs-3","my-3"],[1,"w-100","mt-4"],["matInput","","type","email","formControlName","email","placeholder","correo@email.com"],[1,"w-100"],["matInput","","type","password","formControlName","password"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],["routerLink","/auth/register"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(o,a){o&1&&(i(0,"mat-card",0)(1,"form",1),S("ngSubmit",function(){return a.login()}),i(2,"h3",2),n(3," Iniciar sesion "),r(),i(4,"div")(5,"mat-form-field",3)(6,"mat-label"),n(7,"Correo"),r(),d(8,"input",4),c(9,ie,2,0,"mat-error"),r()(),i(10,"div")(11,"mat-form-field",5)(12,"mat-label"),n(13,"Contrase\xF1a"),r(),d(14,"input",6),c(15,oe,2,0,"mat-error"),r()(),i(16,"div",7)(17,"div")(18,"span"),n(19," \xBFNo tienes cuenta? "),d(20,"br"),r(),i(21,"a",8),n(22," Crear una aqu\xED "),r()(),i(23,"button",9),n(24," Iniciar "),r()()()()),o&2&&(l(1),g("formGroup",a.loginForm),l(8),u(9,a.loginForm.controls.email.getError("required")?9:-1),l(6),u(15,a.loginForm.controls.password.getError("required")?15:-1),l(8),g("disabled",a.loginForm.invalid))},dependencies:[R,_,x,w,y,M,q,h,C,B,P,I,L,T,D,V]});let t=e;return t})();var J=A($());function ae(t,e){t&1&&(i(0,"mat-error"),n(1,"Este campo es requerido"),r())}function ne(t,e){t&1&&(i(0,"mat-error"),n(1,"Este campo es requerido"),r())}function me(t,e){t&1&&(i(0,"mat-error"),n(1,"El correo es invalido"),r())}function le(t,e){t&1&&(i(0,"mat-error"),n(1,"Este campo es requerido"),r())}function se(t,e){t&1&&(i(0,"mat-error"),n(1,"La contrase\xF1a debe tener al menos una mayuscula y un numero, tambien al menos 8 caracteres"),r())}function de(t,e){t&1&&(i(0,"mat-error"),n(1,"Este campo es requerido"),r())}function ue(t,e){t&1&&(i(0,"mat-error"),n(1,"Las contrase\xF1as deben ser iguales"),r())}var K=(()=>{let e=class e{constructor(){this.fb=p(N),this.validatorsService=p(k),this.authService=p(b),this.router=p(F),this.registerForm=this.fb.group({fullName:["",[s.required]],email:["",[s.required,s.pattern(this.validatorsService.emailPattern)]],password:["",[s.required,s.minLength(6),s.pattern(this.validatorsService.passwordPattern)]],password2:["",[s.required,s.minLength(6)]]},{validators:[this.validatorsService.areFieldsEqual("password","password2")]})}isValidField(m){return this.validatorsService.isValidField(this.registerForm,m)}register(){let{email:m,password:o,fullName:a}=this.registerForm.value;this.authService.register(m,o,a).subscribe({next:()=>{this.router.navigateByUrl("/dashboard")},error:E=>J.default.fire("Error",E,"error")})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=f({type:e,selectors:[["app-register-page"]],standalone:!0,features:[v],decls:40,vars:9,consts:[[1,"d-block","w-50","mx-auto"],["autocomplete","off",1,"p-4",3,"formGroup","ngSubmit"],[1,"text-center","fs-3","mb-3"],[1,"w-100","mt-4"],["matInput","","type","text","formControlName","fullName","placeholder","Nombre apellido"],["matInput","","type","email","formControlName","email","placeholder","correo@email.com"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","password2"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],[1,"flex-col-c","p-t-60"],[1,"txt1","p-b-17"],["routerLink","/auth/login",1,"txt2"]],template:function(o,a){o&1&&(i(0,"mat-card",0)(1,"form",1),S("ngSubmit",function(){return a.register()}),i(2,"h3",2),n(3," Crear una cuenta "),r(),i(4,"div")(5,"mat-form-field",3)(6,"mat-label"),n(7,"Nombre"),r(),d(8,"input",4),c(9,ae,2,0,"mat-error"),r()(),i(10,"div")(11,"mat-form-field",3)(12,"mat-label"),n(13,"Correo"),r(),d(14,"input",5),c(15,ne,2,0,"mat-error")(16,me,2,0,"mat-error"),r()(),i(17,"div")(18,"mat-form-field",3)(19,"mat-label"),n(20,"Contrase\xF1a"),r(),d(21,"input",6),c(22,le,2,0,"mat-error")(23,se,2,0,"mat-error"),r()(),i(24,"div")(25,"mat-form-field",3)(26,"mat-label"),n(27,"Contrase\xF1a"),r(),d(28,"input",7),c(29,de,2,0,"mat-error")(30,ue,2,0,"mat-error"),r()(),i(31,"div",8)(32,"button",9),n(33," Crear "),r(),i(34,"div",10)(35,"span",11),n(36," \xBFYa tienes cuenta? "),d(37,"br"),r(),i(38,"a",12),n(39," Entra una aqu\xED "),r()()()()()),o&2&&(l(1),g("formGroup",a.registerForm),l(8),u(9,a.registerForm.controls.fullName.getError("required")?9:-1),l(6),u(15,a.registerForm.controls.email.getError("required")?15:-1),l(1),u(16,a.registerForm.controls.email.getError("pattern")?16:-1),l(6),u(22,a.registerForm.controls.password.getError("required")?22:-1),l(1),u(23,a.registerForm.controls.password.getError("pattern")?23:-1),l(6),u(29,a.registerForm.controls.password2.getError("required")?29:-1),l(1),u(30,a.registerForm.controls.password2.errors?30:-1),l(2),g("disabled",a.registerForm.invalid))},dependencies:[R,_,x,w,y,M,q,h,C,B,P,I,L,T,D,V,z]});let t=e;return t})();var pe=[{path:"",component:Y,children:[{path:"login",component:H},{path:"register",component:K},{path:"**",redirectTo:"login"}]}],Ve=pe;export{Ve as default};
